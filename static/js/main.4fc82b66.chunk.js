(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(48)},34:function(e,t,n){},35:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),o=n(2),l=n(3),u=n(9),s=n(6),p=n(10),h=n(8),m=(n(34),n(35),n(17)),d=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Today")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/next"},"Next days"))))}}]),t}(a.Component),f=(n(44),n(7)),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).citiesHistory=[],n.checkWeatherFromHistory=n.checkWeatherFromHistory.bind(Object(p.a)(n)),n.delAllCities=n.delAllCities.bind(Object(p.a)(n)),n.checkCities=n.checkCities.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"checkWeatherFromHistory",value:function(e){this.props.getInfoFromApi(e.target.innerHTML)}},{key:"delAllCities",value:function(){this.props.delAllCities()}},{key:"checkCities",value:function(){var e=this;this.props.appState.cities.map(function(t,n){if(null===t)e.citiesHistory=[];else{var a=t.toUpperCase();e.citiesHistory.includes(a)||(n>3?e.citiesHistory.splice(0,1,a):e.citiesHistory.push(a))}})}},{key:"render",value:function(){var e=this;return this.checkCities(),r.a.createElement("div",{className:"history"},r.a.createElement("ul",null,this.citiesHistory.map(function(t,n){return r.a.createElement("li",{key:n,onClick:e.checkWeatherFromHistory},t)})),r.a.createElement("button",{onClick:this.delAllCities},"\u2716"))}}]),t}(a.Component),b=Object(f.b)(function(e){return{appState:e}},function(e){return{delAllCities:function(){e({type:"DELETE_CITIES",payload:null})}}})(E),y=n(14),v=(n(46),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.state;return r.a.createElement("div",{className:"forecast-weather-info"},r.a.createElement("div",null,r.a.createElement("h2",null,e.weather[0].main),r.a.createElement("p",null,e.dt_txt.substr(0,10))),r.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:"",className:"forecast-weather__img"}),r.a.createElement("ul",null,r.a.createElement("li",null,Math.round(e.main.temp),"\xb0"),r.a.createElement("li",null,e.wind.speed," m/s")),r.a.createElement("p",{className:"forecast-weather__description"},e.weather[0].description.toUpperCase()))}}]),t}(a.Component)),O=Object(f.b)(function(e){return{appState:e}})(v),j=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];return e.push(this.props.appState.forecast[this.props.appState.forecast.length-1]),e.includes(void 0)?"":e.map(function(e){return e.list.filter(function(e){return e.dt_txt.includes("12:00:00")}).map(function(e,t){return r.a.createElement(O,{key:t,state:e})})})}}]),t}(a.Component),g=Object(f.b)(function(e){return{appState:e}})(j),C=(n(47),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.appState.current[this.props.appState.current.length-1];return void 0!==e?r.a.createElement("div",{className:"current-weather-info"},r.a.createElement("div",{className:"current-weather__main"},r.a.createElement("div",{className:"current-weather__city"},e.name,", ",e.sys.country),r.a.createElement("div",{className:"current-weather__temp"},Math.round(e.main.temp),"\xb0",r.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png")})),r.a.createElement("div",{className:"current-weather__description"},e.weather[0].description.toUpperCase())),r.a.createElement("div",{className:"current-weather__more"},r.a.createElement("ul",null,r.a.createElement("li",null,"Humidity: ",e.main.humidity," %"),r.a.createElement("li",null,"Pressure: ",e.main.pressure," mb"),r.a.createElement("li",null,"Wind speed: ",e.wind.speed," m/s"),r.a.createElement("li",null,"Clouds: ",e.clouds.all)))):""}}]),t}(a.Component)),_=Object(f.b)(function(e){return{appState:e}})(C),w="&units=metric&APPID=9e5f732b51c403196a6a5096551e6098",k=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"getCurrentWeather",value:function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+w).then(function(e){return e.json()}).catch(function(e){console.log(e)})}},{key:"getWeatherForecast",value:function(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?q="+e+w).then(function(e){return e.json()}).catch(function(e){console.log(e)})}}]),e}()),A=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.getInfoFromApi=n.getInfoFromApi.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.getInfoFromApi(this.cityInput.value),this.cityInput.value=""}},{key:"getInfoFromApi",value:function(e){var t=this;k.getCurrentWeather(e).then(function(n){k.getWeatherForecast(e).then(function(a){if("city not found"===n.message)return alert("No found city, please correct name!"),!1;t.props.addCurrentWeather(n),t.props.addWeatherForecast(a),t.props.addCity(e)})})}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header"},"React Weather Forecast"),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"Enter city in english... (Kiev, UA)",className:"search-input",type:"text",ref:function(t){e.cityInput=t}}))),r.a.createElement(d,null),r.a.createElement(b,{getInfoFromApi:this.getInfoFromApi}),r.a.createElement(y.a,{exact:!0,path:"/",component:_}),r.a.createElement(y.a,{path:"/next",component:g})))}}]),t}(a.Component),N=Object(f.b)(function(e){return{appState:e}},function(e){return{addCity:function(t){e({type:"ADD_CITY",payload:t})},addCurrentWeather:function(t){var n=Object.assign({},t);e({type:"CURRENT_WEATHER",payload:n})},addWeatherForecast:function(t){var n=Object.assign({},t);e({type:"WEATHER_FORECAST",payload:n})}}})(A),S=n(15),I=n(16),T=[];var F=[];var W=[];var H=Object(S.b)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return"ADD_CITY"===t.type?[].concat(Object(I.a)(e),[t.payload]):"DELETE_CITIES"===t.type?[t.payload]:e},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;return"CURRENT_WEATHER"===t.type?[].concat(Object(I.a)(e),[t.payload]):e},forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return"WEATHER_FORECAST"===t.type?[].concat(Object(I.a)(e),[t.payload]):e}}),R=Object(S.c)(H,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(f.a,{store:R},r.a.createElement(N,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.4fc82b66.chunk.js.map