(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(45)},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),i=n.n(c),o=n(9),l=n(10),u=n(20),s=n(18),m=n(21),p=n(14),h=n(8),d=n(7),f=(n(39),n(40),function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/"},"Today")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/next"},"Next days"))))}),E=(n(42),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).getWeatherFromHistory=function(e){var t=e.target;n.props.getInfoFromApi(t.innerHTML)},n.deleteCities=function(){n.props.deleteCities()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cities,n=0!==Object.keys(t).length?r.a.createElement("button",{onClick:this.deleteCities},"\u2716"):"";return r.a.createElement("div",{className:"history"},r.a.createElement("ul",null,Object.keys(t).map(function(t,n){return r.a.createElement("li",{key:n,onClick:e.getWeatherFromHistory},"".concat(t[0].toUpperCase()).concat(t.slice(1)))})),n)}}]),t}(a.Component)),y=Object(d.b)(function(e){return{cities:e.cities}},{deleteCities:function(){return{type:"DELETE_CITIES"}}})(E),v=(n(43),function(e){var t=e.weatherForecast,n=t.weather,a=t.dt_txt,c=t.main,i=t.wind,o="https://openweathermap.org/img/w/".concat(n[0].icon,".png"),l=Math.round(c.temp),u=n[0].description.toUpperCase();return r.a.createElement("div",{className:"forecast-weather-info"},r.a.createElement("div",null,r.a.createElement("h2",null,n[0].main),r.a.createElement("p",null,a.substr(0,10))),r.a.createElement("img",{src:o,alt:"",className:"forecast-weather__img"}),r.a.createElement("ul",null,r.a.createElement("li",null,l,"\xb0"),r.a.createElement("li",null,i.speed," m/s")),r.a.createElement("p",{className:"forecast-weather__description"},u))}),b=Object(d.b)(function(e){return{forecast:e.forecast}})(function(e){var t=e.forecast;return 0===Object.keys(t).length?"":t.list.filter(function(e){return e.dt_txt.includes("12:00:00")}).map(function(e,t){return r.a.createElement(v,Object.assign({key:t},{weatherForecast:e}))})}),g=(n(44),Object(d.b)(function(e){return{current:e.current}})(function(e){var t=e.current;if(0===Object.keys(t).length)return"";var n=t.name,a=t.sys,c=t.main,i=t.weather,o=t.wind,l=t.clouds,u="https://openweathermap.org/img/w/".concat(i[0].icon,".png"),s=Math.round(c.temp),m=i[0].description.toUpperCase();return r.a.createElement("div",{className:"current-weather-info"},r.a.createElement("div",{className:"current-weather__main"},r.a.createElement("div",{className:"current-weather__city"},n,", ",a.country),r.a.createElement("div",{className:"current-weather__temp"},s,"\xb0",r.a.createElement("img",{src:u,alt:""})),r.a.createElement("div",{className:"current-weather__description"},m)),r.a.createElement("div",{className:"current-weather__more"},r.a.createElement("ul",null,r.a.createElement("li",null,"Humidity: ",c.humidity," %"),r.a.createElement("li",null,"Pressure: ",c.pressure," mb"),r.a.createElement("li",null,"Wind speed: ",o.speed," m/s"),r.a.createElement("li",null,"Clouds: ",l.all))))})),w="&units=metric&APPID=9e5f732b51c403196a6a5096551e6098",_=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"getCurrentWeather",value:function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+w).then(function(e){return e.json()}).catch(function(e){console.log(e)})}},{key:"getWeatherForecast",value:function(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?q="+e+w).then(function(e){return e.json()}).catch(function(e){console.log(e)})}}]),e}()),O=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.getInfoFromApi(n.cityInput.value),n.cityInput.value=""},n.getInfoFromApi=function(e){var t=e.toLowerCase();_.getCurrentWeather(t).then(function(e){_.getWeatherForecast(t).then(function(a){if("city not found"===e.message)return alert("No found city, please correct name!"),!1;n.props.addCurrentWeather(e),n.props.addWeatherForecast(a),n.props.addCity(t)})})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getInfoFromApi("kiev")}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header"},"React Weather Forecast"),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"Enter city in english... (Kiev, UA)",className:"search-input",type:"text",ref:function(t){e.cityInput=t}}))),r.a.createElement(f,null),r.a.createElement(y,{getInfoFromApi:this.getInfoFromApi}),r.a.createElement(h.a,{exact:!0,path:"/",component:g}),r.a.createElement(h.a,{path:"/next",component:b})))}}]),t}(a.Component),j=Object(d.b)(function(e){return{appState:e}},{addCity:function(e){return{type:"ADD_CITY",city:e}},addCurrentWeather:function(e){return{type:"CURRENT_WEATHER",payload:e}},addWeatherForecast:function(e){return{type:"WEATHER_FORECAST",payload:e}}})(O),C=n(11),N=n(19),T=n(12),I={},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return Object(T.a)({},e,Object(N.a)({},t.city,t.city));case"DELETE_CITIES":return{};default:return e}},F={},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_WEATHER":return Object(T.a)({},e,t.payload);default:return e}},W={},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_FORECAST":return Object(T.a)({},e,t.payload);default:return e}},R=Object(C.b)({cities:A,current:k,forecast:D}),S=Object(C.c)(R,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(d.a,{store:S},r.a.createElement(j,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.dcc38db0.chunk.js.map